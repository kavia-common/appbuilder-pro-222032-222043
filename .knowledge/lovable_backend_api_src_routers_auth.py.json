{"is_source_file": true, "format": "Python", "description": "This file defines an authentication API using FastAPI. It includes routes for login, retrieving current user info, and dummy token management, all implemented in Python.", "external_files": ["src/core/config.py"], "external_methods": ["get_settings"], "published": ["get_current_user", "login", "me"], "classes": [{"name": "UserPublic", "description": "A Pydantic model representing the publicly visible user info, including email and optional display name."}, {"name": "LoginRequest", "description": "A Pydantic model representing the request payload for login, requiring only an email."}, {"name": "LoginResponse", "description": "A Pydantic model representing the response for login, including a dummy access token, token type, and user info."}], "methods": [{"name": "Optional[str] _extract_bearer_token(authorization: Optional[str])", "description": "Extracts the bearer token from an Authorization header string.", "scope": "", "scopeKind": ""}, {"name": "UserPublic get_current_user(authorization: Optional[str] = Header(default=None))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "LoginResponse login(payload: LoginRequest)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "UserPublic me(current_user: UserPublic = Depends(get_current_user))", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["get_settings", "get_current_user", "login"], "search-terms": ["/auth/login", "get_current_user", "Dummy auth token", "FastAPI auth routes", "Auth API with token prefix"], "state": 2, "file_id": 9, "knowledge_revision": 23, "git_revision": "", "ctags": [{"_type": "tag", "name": "LoginRequest", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/routers/auth.py", "pattern": "/^class LoginRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "LoginResponse", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/routers/auth.py", "pattern": "/^class LoginResponse(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "UserPublic", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/routers/auth.py", "pattern": "/^class UserPublic(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_TOKEN_PREFIX", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/routers/auth.py", "pattern": "/^_TOKEN_PREFIX = \"token-\"$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "_extract_bearer_token", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/routers/auth.py", "pattern": "/^def _extract_bearer_token(authorization: Optional[str]) -> Optional[str]:$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "function", "signature": "(authorization: Optional[str])"}, {"_type": "tag", "name": "access_token", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/routers/auth.py", "pattern": "/^    access_token: str = Field(..., description=\"Dummy access token to use as Bearer token\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "LoginResponse", "scopeKind": "class"}, {"_type": "tag", "name": "display_name", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/routers/auth.py", "pattern": "/^    display_name: Optional[str] = Field(None, description=\"Optional display name\")$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "UserPublic", "scopeKind": "class"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/routers/auth.py", "pattern": "/^    email: str = Field(..., description=\"Email used as identity for dummy auth\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "LoginRequest", "scopeKind": "class"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/routers/auth.py", "pattern": "/^    email: str = Field(..., description=\"User email address\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "UserPublic", "scopeKind": "class"}, {"_type": "tag", "name": "get_current_user", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/routers/auth.py", "pattern": "/^async def get_current_user(authorization: Optional[str] = Header(default=None)) -> UserPublic:$/", "language": "Python", "typeref": "typename:UserPublic", "kind": "function", "signature": "(authorization: Optional[str] = Header(default=None))"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/routers/auth.py", "pattern": "/^async def login(payload: LoginRequest) -> LoginResponse:$/", "language": "Python", "typeref": "typename:LoginResponse", "kind": "function", "signature": "(payload: LoginRequest)"}, {"_type": "tag", "name": "me", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/routers/auth.py", "pattern": "/^async def me(current_user: UserPublic = Depends(get_current_user)) -> UserPublic:$/", "language": "Python", "typeref": "typename:UserPublic", "kind": "function", "signature": "(current_user: UserPublic = Depends(get_current_user))"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/routers/auth.py", "pattern": "/^router = APIRouter($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "token_type", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/routers/auth.py", "pattern": "/^    token_type: str = Field(\"bearer\", description=\"Token type\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "LoginResponse", "scopeKind": "class"}, {"_type": "tag", "name": "user", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/routers/auth.py", "pattern": "/^    user: UserPublic = Field(..., description=\"Authenticated user information\")$/", "language": "Python", "typeref": "typename:UserPublic", "kind": "variable", "scope": "LoginResponse", "scopeKind": "class"}], "hash": "da1c9285c331d74b974fb8878ca1dcad", "format-version": 4, "code-base-name": "lovable_backend_api", "filename": "lovable_backend_api/src/routers/auth.py", "fields": [{"name": "_TOKEN_PREFIX = \"token-\"", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "str access_token", "scope": "LoginResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] display_name", "scope": "UserPublic", "scopeKind": "class", "description": "unavailable"}, {"name": "str email", "scope": "LoginRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "router = APIRouter(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "str token_type", "scope": "LoginResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "UserPublic user", "scope": "LoginResponse", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"23": ""}]}
{"is_source_file": true, "format": "Python", "description": "This file defines API endpoints for deployment operations within a FastAPI application, including starting a deployment, fetching deployment status, and listing deployments for a project. It includes data models for request and response schemas, dependency injection for user authentication, and utility functions to process deployment records.", "external_files": ["src.routers.auth", "src.services.deploy_service"], "external_methods": ["get_current_user", "deploy_service.start", "deploy_service.get", "deploy_service.list_for_project"], "published": ["start_deploy", "get_deploy", "list_deploys"], "classes": [{"name": "DeployStartRequest", "description": "Schema for initiating a deployment, specifying the provider."}, {"name": "DeployStartResponse", "description": "Schema for responding with deployment ID after starting deployment."}, {"name": "DeployStatus", "description": "Schema representing the status of a deployment, including logs and URL."}], "methods": [{"name": "DeployStatus _to_status(rec: DeploymentRecord)", "description": "Converts a DeploymentRecord instance into a DeployStatus schema.", "scope": "", "scopeKind": ""}, {"name": "DeployStartResponse start_deploy( payload: DeployStartRequest, project_id: str = Path(..., description=\"Project ID\"), current_user: UserPublic = Depends(get_current_user), )", "description": "API endpoint to start a new deployment for a project.", "scope": "", "scopeKind": ""}, {"name": "DeployStatus get_deploy( deploy_id: str = Path(..., description=\"Deployment ID\"), project_id: str = Path(..., description=\"Project ID\"), current_user: UserPublic = Depends(get_current_user), )", "description": "API endpoint to retrieve the status of a specific deployment.", "scope": "", "scopeKind": ""}, {"name": "List[DeployStatus] list_deploys( project_id: str = Path(..., description=\"Project ID\"), current_user: UserPublic = Depends(get_current_user), )", "description": "API endpoint to list all deployments for a project.", "scope": "", "scopeKind": ""}], "calls": ["deploy_service.start", "deploy_service.get", "deploy_service.list_for_project"], "search-terms": ["FastAPI deployment API", "deploy service integration", "deployment status endpoint", "project deployment management", "deployment schema"], "state": 2, "file_id": 20, "knowledge_revision": 53, "git_revision": "4d6116c3744385755434bf99b2a4f1d34b9385fe", "revision_history": [{"50": ""}, {"53": "4d6116c3744385755434bf99b2a4f1d34b9385fe"}], "ctags": [{"_type": "tag", "name": "DeployStartRequest", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/routers/deploy.py", "pattern": "/^class DeployStartRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "DeployStartResponse", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/routers/deploy.py", "pattern": "/^class DeployStartResponse(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "DeployStatus", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/routers/deploy.py", "pattern": "/^class DeployStatus(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_to_status", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/routers/deploy.py", "pattern": "/^def _to_status(rec: DeploymentRecord) -> DeployStatus:$/", "language": "Python", "typeref": "typename:DeployStatus", "kind": "function", "signature": "(rec: DeploymentRecord)"}, {"_type": "tag", "name": "deploy_id", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/routers/deploy.py", "pattern": "/^    deploy_id: str = Field(..., description=\"Deployment ID\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "DeployStartResponse", "scopeKind": "class"}, {"_type": "tag", "name": "get_deploy", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/routers/deploy.py", "pattern": "/^async def get_deploy($/", "language": "Python", "typeref": "typename:DeployStatus", "kind": "function", "signature": "( deploy_id: str = Path(..., description=\"Deployment ID\"), project_id: str = Path(..., description=\"Project ID\"), current_user: UserPublic = Depends(get_current_user), )"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/routers/deploy.py", "pattern": "/^    id: str = Field(..., description=\"Deployment ID\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "DeployStatus", "scopeKind": "class"}, {"_type": "tag", "name": "list_deploys", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/routers/deploy.py", "pattern": "/^async def list_deploys($/", "language": "Python", "typeref": "typename:List[DeployStatus]", "kind": "function", "signature": "( project_id: str = Path(..., description=\"Project ID\"), current_user: UserPublic = Depends(get_current_user), )"}, {"_type": "tag", "name": "logs", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/routers/deploy.py", "pattern": "/^    logs: List[str] = Field(default_factory=list, description=\"Logs\")$/", "language": "Python", "typeref": "typename:List[str]", "kind": "variable", "scope": "DeployStatus", "scopeKind": "class"}, {"_type": "tag", "name": "provider", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/routers/deploy.py", "pattern": "/^    provider: Literal[\"vercel\", \"heroku\", \"fly\", \"railway\", \"none\"] = Field(..., description=\"De/", "language": "Python", "typeref": "typename:Literal[\"vercel\", \"heroku\", \"fly\", \"railway\", \"none\"]", "kind": "variable", "scope": "DeployStartRequest", "scopeKind": "class"}, {"_type": "tag", "name": "provider", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/routers/deploy.py", "pattern": "/^    provider: str = Field(..., description=\"Provider\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "DeployStatus", "scopeKind": "class"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/routers/deploy.py", "pattern": "/^router = APIRouter($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "start_deploy", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/routers/deploy.py", "pattern": "/^async def start_deploy($/", "language": "Python", "typeref": "typename:DeployStartResponse", "kind": "function", "signature": "( payload: DeployStartRequest, project_id: str = Path(..., description=\"Project ID\"), current_user: UserPublic = Depends(get_current_user), )"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/routers/deploy.py", "pattern": "/^    status: str = Field(..., description=\"Status\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "DeployStatus", "scopeKind": "class"}], "hash": "84d2c027b78cc548350eaeaaed7d1605", "format-version": 4, "code-base-name": "lovable_backend_api", "filename": "lovable_backend_api/src/routers/deploy.py", "fields": [{"name": "str deploy_id", "scope": "DeployStartResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "str id", "scope": "DeployStatus", "scopeKind": "class", "description": "unavailable"}, {"name": "List[str] logs", "scope": "DeployStatus", "scopeKind": "class", "description": "unavailable"}, {"name": "Literal[\"vercel\", \"heroku\", \"fly\", \"railway\", \"none\"] provider", "scope": "DeployStartRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "str provider", "scope": "DeployStatus", "scopeKind": "class", "description": "unavailable"}, {"name": "router = APIRouter(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "str status", "scope": "DeployStatus", "scopeKind": "class", "description": "unavailable"}]}
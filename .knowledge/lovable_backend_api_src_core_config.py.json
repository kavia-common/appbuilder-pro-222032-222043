{"is_source_file": true, "format": "Python", "description": "This file defines application configuration settings by loading environment variables using Pydantic models and provides a singleton accessor for these settings. It includes classes for wrapping specific configuration sections (like CORS) and exposes a function to retrieve and cache the settings object.", "external_files": ["pydantic", "pydantic_settings", "pathlib", "functools"], "external_methods": ["lru_cache", "Path", "BaseModel", "Field", "ValidationError"], "published": ["get_settings", "AppSettings", "Path", "_CorsConfig"], "classes": [{"name": "_CorsConfig", "description": "A Pydantic BaseModel for encapsulating CORS configuration, specifically the frontend origin."}, {"name": "AppSettings", "description": "A Pydantic BaseSettings subclass that loads application configuration from environment variables, including database URL, CORS origin, backend port, storage directory, preview URL, and JWT secret."}], "methods": [{"name": "_CorsConfig cors(self)", "description": "Returns a _CorsConfig instance containing CORS-related settings, primarily the frontend origin.", "scope": "AppSettings", "scopeKind": "class"}, {"name": "AppSettings get_settings()", "description": "Retrieves and caches the singleton AppSettings instance, loading environment variables on first invocation, ensuring storage directories exist, and handling validation errors.", "scope": "", "scopeKind": ""}], "calls": ["lru_cache", "Path", "Path.mkdir", "AppSettings", "ValidationError"], "search-terms": ["AppSettings", "config.py", "environment variables", "singleton settings", "pydantic BaseSettings", "caching configuration", "CORS config", "JWT_SECRET", "storage directory"], "state": 2, "file_id": 5, "knowledge_revision": 11, "git_revision": "", "ctags": [{"_type": "tag", "name": "AppSettings", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/core/config.py", "pattern": "/^class AppSettings(BaseSettings):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_CorsConfig", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/core/config.py", "pattern": "/^class _CorsConfig(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "backend_port", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/core/config.py", "pattern": "/^    backend_port: int = Field(3001, alias=\"BACKEND_PORT\", description=\"Port the backend runs on\"/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "AppSettings", "scopeKind": "class"}, {"_type": "tag", "name": "cors", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/core/config.py", "pattern": "/^    def cors(self) -> _CorsConfig:$/", "language": "Python", "typeref": "typename:_CorsConfig", "kind": "member", "signature": "(self)", "scope": "AppSettings", "scopeKind": "class"}, {"_type": "tag", "name": "database_url", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/core/config.py", "pattern": "/^    database_url: str = Field(..., alias=\"DATABASE_URL\", description=\"SQLAlchemy database URL\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "AppSettings", "scopeKind": "class"}, {"_type": "tag", "name": "frontend_origin", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/core/config.py", "pattern": "/^    frontend_origin: str = Field(..., alias=\"FRONTEND_ORIGIN\", description=\"Frontend origin for /", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "AppSettings", "scopeKind": "class"}, {"_type": "tag", "name": "frontend_origin", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/core/config.py", "pattern": "/^    frontend_origin: str = Field(..., description=\"Allowed frontend origin for CORS\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "_CorsConfig", "scopeKind": "class"}, {"_type": "tag", "name": "get_settings", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/core/config.py", "pattern": "/^def get_settings() -> AppSettings:$/", "language": "Python", "typeref": "typename:AppSettings", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "jwt_secret", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/core/config.py", "pattern": "/^    jwt_secret: str = Field(..., alias=\"JWT_SECRET\", description=\"Secret used to sign JWT tokens/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "AppSettings", "scopeKind": "class"}, {"_type": "tag", "name": "model_config", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/core/config.py", "pattern": "/^    model_config = SettingsConfigDict(env_file=\".env\", case_sensitive=False, extra=\"ignore\")$/", "language": "Python", "kind": "variable", "scope": "AppSettings", "scopeKind": "class"}, {"_type": "tag", "name": "preview_base_url", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/core/config.py", "pattern": "/^    preview_base_url: str = Field(..., alias=\"PREVIEW_BASE_URL\", description=\"Base URL to constr/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "AppSettings", "scopeKind": "class"}, {"_type": "tag", "name": "storage_dir", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/core/config.py", "pattern": "/^    storage_dir: Path = Field(Path(\"\\/tmp\\/lovable_storage\"), alias=\"STORAGE_DIR\", description=\"/", "language": "Python", "typeref": "typename:Path", "kind": "variable", "scope": "AppSettings", "scopeKind": "class"}], "hash": "8419b2a2a8d559fdb1f80bc70e7ad1fd", "format-version": 4, "code-base-name": "lovable_backend_api", "filename": "lovable_backend_api/src/core/config.py", "fields": [{"name": "int backend_port", "scope": "AppSettings", "scopeKind": "class", "description": "unavailable"}, {"name": "str database_url", "scope": "AppSettings", "scopeKind": "class", "description": "unavailable"}, {"name": "str frontend_origin", "scope": "AppSettings", "scopeKind": "class", "description": "unavailable"}, {"name": "str jwt_secret", "scope": "AppSettings", "scopeKind": "class", "description": "unavailable"}, {"name": "model_config = SettingsConfigDict(env_file=\".env\", case_sensitive=False, extra=\"ignore\")", "scope": "AppSettings", "scopeKind": "class", "description": "unavailable"}, {"name": "str preview_base_url", "scope": "AppSettings", "scopeKind": "class", "description": "unavailable"}, {"name": "Path storage_dir", "scope": "AppSettings", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"11": ""}]}
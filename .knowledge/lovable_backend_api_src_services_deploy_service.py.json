{"is_source_file": true, "format": "Python", "description": "This file defines a DeployService class that manages in-memory deployment records for different providers. It includes methods to start deployments, retrieve deployment info, and list deployments for a project. It simulates deployment progress asynchronously.", "external_files": [], "external_methods": ["asyncio.create_task", "asyncio.sleep", "uuid.uuid4"], "published": ["deploy_service"], "classes": [{"name": "DeploymentRecord", "description": "A data class representing a deployment record with fields for id, owner, project_id, provider, status, url, and logs."}, {"name": "DeployService", "description": "A service class providing in-memory management of deployment records with methods to start, get, and list deployments, simulating deployment pipelines asynchronously."}], "methods": [{"name": "str start(self, owner: str, project_id: str, provider: Provider)", "description": "Creates a new deployment record and begins a simulated deployment process asynchronously.", "scope": "DeployService", "scopeKind": "class"}, {"name": "Optional[DeploymentRecord] get(self, deploy_id: str)", "description": "Retrieves a deployment record by its ID.", "scope": "DeployService", "scopeKind": "class"}, {"name": "List[DeploymentRecord] list_for_project(self, owner: str, project_id: str)", "description": "Lists all deployment records associated with a specific owner and project.", "scope": "DeployService", "scopeKind": "class"}, {"name": "None _simulate(self, rec: DeploymentRecord)", "description": "Simulates the deployment phases asynchronously, updating status, logs, and setting a fake URL upon completion.", "scope": "DeployService", "scopeKind": "class"}, {"name": "None __init__(self)", "scope": "DeployService", "scopeKind": "class", "description": "unavailable"}], "calls": ["asyncio.create_task", "asyncio.sleep", "uuid.uuid4"], "search-terms": ["deploy_service", "DeploymentRecord", "in-memory deployment", "simulate deployment", "asyncio deployment"], "state": 2, "file_id": 18, "knowledge_revision": 46, "git_revision": "", "ctags": [{"_type": "tag", "name": "DeployService", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/services/deploy_service.py", "pattern": "/^class DeployService:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "DeploymentRecord", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/services/deploy_service.py", "pattern": "/^class DeploymentRecord:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "Provider", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/services/deploy_service.py", "pattern": "/^Provider = Literal[\"vercel\", \"heroku\", \"fly\", \"railway\", \"none\"]$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "Status", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/services/deploy_service.py", "pattern": "/^Status = Literal[\"pending\", \"building\", \"success\", \"failed\"]$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/services/deploy_service.py", "pattern": "/^    def __init__(self) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self)", "scope": "DeployService", "scopeKind": "class"}, {"_type": "tag", "name": "_simulate", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/services/deploy_service.py", "pattern": "/^    async def _simulate(self, rec: DeploymentRecord) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self, rec: DeploymentRecord)", "scope": "DeployService", "scopeKind": "class"}, {"_type": "tag", "name": "deploy_service", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/services/deploy_service.py", "pattern": "/^deploy_service = DeployService()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "get", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/services/deploy_service.py", "pattern": "/^    def get(self, deploy_id: str) -> Optional[DeploymentRecord]:$/", "language": "Python", "typeref": "typename:Optional[DeploymentRecord]", "kind": "member", "signature": "(self, deploy_id: str)", "scope": "DeployService", "scopeKind": "class"}, {"_type": "tag", "name": "list_for_project", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/services/deploy_service.py", "pattern": "/^    def list_for_project(self, owner: str, project_id: str) -> List[DeploymentRecord]:$/", "language": "Python", "typeref": "typename:List[DeploymentRecord]", "kind": "member", "signature": "(self, owner: str, project_id: str)", "scope": "DeployService", "scopeKind": "class"}, {"_type": "tag", "name": "logs", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/services/deploy_service.py", "pattern": "/^    logs: List[str] = field(default_factory=list)$/", "language": "Python", "typeref": "typename:List[str]", "kind": "variable", "scope": "DeploymentRecord", "scopeKind": "class"}, {"_type": "tag", "name": "start", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/services/deploy_service.py", "pattern": "/^    def start(self, owner: str, project_id: str, provider: Provider) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "member", "signature": "(self, owner: str, project_id: str, provider: Provider)", "scope": "DeployService", "scopeKind": "class"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/services/deploy_service.py", "pattern": "/^    status: Status = \"pending\"$/", "language": "Python", "typeref": "typename:Status", "kind": "variable", "scope": "DeploymentRecord", "scopeKind": "class"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/services/deploy_service.py", "pattern": "/^    url: Optional[str] = None$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "DeploymentRecord", "scopeKind": "class"}], "hash": "0190db4c0aea6be0969239bcec8c997f", "format-version": 4, "code-base-name": "lovable_backend_api", "filename": "lovable_backend_api/src/services/deploy_service.py", "fields": [{"name": "Provider = Literal[\"vercel\", \"heroku\", \"fly\", \"railway\", \"none\"]", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Status = Literal[\"pending\", \"building\", \"success\", \"failed\"]", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "deploy_service = DeployService()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "List[str] logs", "scope": "DeploymentRecord", "scopeKind": "class", "description": "unavailable"}, {"name": "Status status", "scope": "DeploymentRecord", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] url", "scope": "DeploymentRecord", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"46": ""}]}
{"is_source_file": true, "format": "Python", "description": "This file manages asynchronous SQLAlchemy engine and session configurations, including helper functions for session management and transactional execution within an async context.", "external_files": ["src.core.config"], "external_methods": ["src.core.config.get_settings"], "published": ["get_async_session", "run_in_transaction"], "classes": [{"name": "AsyncEngine", "description": "Asynchronous SQLAlchemy engine instance used to connect to the database."}, {"name": "AsyncSession", "description": "Asynchronous session class for database operations."}], "methods": [{"name": "AsyncIterator[AsyncSession] get_async_session()", "description": "Asynchronous context manager yielding an AsyncSession with proper lifecycle management, including automatic rollback on exceptions.", "scope": "", "scopeKind": ""}, {"name": "\"Optional[object]\" run_in_transaction( fn: Callable[[AsyncSession], \"Optional[object]\"], )", "description": "Executes a given async callable within a transactional scope, committing on success and rolling back on error.", "scope": "", "scopeKind": ""}], "calls": ["create_async_engine", "async_sessionmaker", "get_settings", "asynccontextmanager", "AsyncSession", "session.rollback", "session.commit", "session.close"], "search-terms": ["SQLAlchemy async session management", "async context manager", "database session", "transaction management", "AsyncEngine", "AsyncSession", "sessionmaker", "session rollback", "session commit"], "state": 2, "file_id": 6, "knowledge_revision": 15, "git_revision": "", "ctags": [{"_type": "tag", "name": "ASYNC_SESSION_MAKER", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/db/session.py", "pattern": "/^ASYNC_SESSION_MAKER: async_sessionmaker[AsyncSession] = async_sessionmaker($/", "language": "Python", "typeref": "typename:async_sessionmaker[AsyncSession]", "kind": "variable"}, {"_type": "tag", "name": "ENGINE", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/db/session.py", "pattern": "/^ENGINE: AsyncEngine = create_async_engine($/", "language": "Python", "typeref": "typename:AsyncEngine", "kind": "variable"}, {"_type": "tag", "name": "_settings", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/db/session.py", "pattern": "/^_settings = get_settings()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "get_async_session", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/db/session.py", "pattern": "/^async def get_async_session() -> AsyncIterator[AsyncSession]:$/", "language": "Python", "typeref": "typename:AsyncIterator[AsyncSession]", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "run_in_transaction", "path": "/home/kavia/workspace/code-generation/appbuilder-pro-222032-222043/lovable_backend_api/src/db/session.py", "pattern": "/^async def run_in_transaction($/", "language": "Python", "typeref": "typename:\"Optional[object]\"", "kind": "function", "signature": "( fn: Callable[[AsyncSession], \"Optional[object]\"], )"}], "hash": "37225e6ee3efe521306a8a824c1f3113", "format-version": 4, "code-base-name": "lovable_backend_api", "filename": "lovable_backend_api/src/db/session.py", "fields": [{"name": "async_sessionmaker[AsyncSession] ASYNC_SESSION_MAKER", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "AsyncEngine ENGINE", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "_settings = get_settings()", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"15": ""}]}